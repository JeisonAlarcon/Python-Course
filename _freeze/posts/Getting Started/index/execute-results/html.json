{
  "hash": "d5e385b69308294135312b842e7fd2f8",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Getting Started\ndate: '2024-06-01'\nimage: Featured Image.jpg\nfrom: markdown+emoji\ncategories:\n  - Python Interpreter\n  - Basics\n  - IPython\n---\n\n# :nerd_face: **CONTEXTO, CONFIGURACIÓN E INTERACCIÓN** :snake:\n\nEste curso es una introducción al trabajo con datos en [Python](https://www.python.org/), ofreciendo una visión general de las principales características de las estructuras de datos y librerías incorporadas para la manipulación de datos.\n\nEl enfoque principal del curso es el análisis de datos basados en tablas y la preparación de datos para conjuntos pequeños que puedan manejarse en un ordenador personal. Para utilizar estas herramientas, a veces es necesario organizar los datos desordenados en una forma tabular. Python es ideal para esto, y cuanto más familiarizado esté con el lenguaje y sus tipos de datos, más fácil será preparar los conjuntos de datos para su análisis.\n\n------------------------------------------------------------------------\n\n## :gear: *Configuración Inicial*\n\n### Rstudio\n\nUsaremos la **IDE** de [Rstudio](https://quarto.org/docs/tools/rstudio.html) (*claramente no nos limitaremos a ella, usaremos [Jupyter Notebook](https://jupyter.org/), [VSC](https://quarto.org/docs/tools/vscode.html), [Google Colab](https://colab.research.google.com/), etc*). Pero más adelante trabajaremos con ambos lenguajes (`Python` y `R`) simultáneamente por lo cual nos servirá realizar esta configuración.\n\n1.  Primero necesita conocer con exactitud la ruta del ejecutable `python.exe` :collision: que desea usar (*sea con Python, conda, venv, etc*). Para ello abra la consola de su intérprete (*si usa un environment en particular no olvide ingresar a él* :inbox_tray:) y ejecute los comandos mostrados. Guarde dicha dirección en el portapapeles :paperclip:.\n\n::: {#1b899aec .cell execution_count=1}\n``` {.python .cell-code}\npython\nimport sys\nprint(sys.executable)\n```\n:::\n\n\n![](../../files/images/SysExecutable.png)\n\n2.  Ahora que conoce la dirección correcta de su intérprete de Python :card_index:, diríjase a la ruta mostrada en `Rstudio`. :eyes: En ocasiones no le saldrá para ser seleccionado, por eso es mejor tener la ruta, péguela en la casilla y espere unos segundos :watch: que lo reconozca antes de salir y darle guardar o aplicar (*si realiza lo anterior de forma muy rápida no le quedará*). Le pedirá que reinicie sesión y ya deberá quedar si vuelve a ingresar.\n\n![](../../files/images/PyInterpreter.png)\n\n3.  Por último instalaremos una librería que nos proporcionará un conjunto completo de herramientas para la interoperabilidad entre `Python` y `R` :hammer_and_wrench:.\n\n::: {#f762cbe8 .cell execution_count=2}\n``` {.python .cell-code}\ninstall.packages(\"reticulate\")\n```\n:::\n\n\n### Conda\n\nComo usaremos dentro de los `.qmd` el parámetro `jupyter: python3`, es necesario tener instalada dicha librería en su intérprete :computer:, para lo cual ejecute (*dentro de su kernel a usar y environment elegido*):\n\n::: {#350a786d .cell execution_count=3}\n``` {.python .cell-code}\nconda install jupyter\n# conda install numpy pandas scikit-learn matplotlib seaborn jupyter\n```\n:::\n\n\nCompruebe que efectivamente haya sido descargado con:\n\n::: {#cf586880 .cell execution_count=4}\n``` {.python .cell-code}\nconda list\n```\n:::\n\n\n### Quarto\n\nSí ejecuta el siguiente comando en el terminal :keyboard:, deberá obtener algo como lo siguiente:\n\n\n```{shell}\nquarto check jupyter\n```\n\n\n![](../../files/images/CheckJupyter.png)\n\nComo puede observar tenemos un problema :warning: y es que **no quedó** el kernel que elegimos desde un inicio. Y el error mostrado se debe a que obviamente hay módulos que no hemos instalado en dicho intérprete que `Quarto` selecciona por defecto. Si desea obtener más información de dicho error consulte: [Quarto Uses Wrong Python Version](https://github.com/quarto-dev/quarto-cli/discussions/3977).\n\nPara *\"corregir\"* lo anterior debemos apoyarnos de la [documentación oficial](https://quarto.org/docs/projects/environment.html), la cual indica que se debe crear un archivo `_environment` (*sí así tal cual sin extensión alguna*) y establecer los valores para `QUARTO_PYTHON=\"C:\\ProgramData\\miniconda3\\\"` :heavy_check_mark:. Así conseguimos que `Quarto` pueda establecer y fijar dicha configuración local para nuestro `.qmd`.\n\n-   `QUARTO_PYTHON` se establece en: {{< env QUARTO_PYTHON >}}\n-   `PY_PYTHON` se establece en: {{< env PY_PYTHON >}}\n-   `RETICULATE_PYTHON` se establece en: {{< env RETICULATE_PYTHON >}}\n\nEl siguiente [blog](https://eraheem.com/blog/2023/11/20/quarto-jupyter-conda-env-rstudio-config/) :notebook_with_decorative_cover: explica demasiado bien lo que acabamos de hacer a mayor detalle, para renderizar un documento `Quarto` con un entorno específico en `RStudio/Posit`.\n\n:green_circle: Finalmente, cree y ejecute un nuevo `.qmd`, puede utilizar la [plantilla ejemplo](https://quarto.org/docs/computations/python.html#code-blocks), y agregue el siguiente chunk para que verifique por su propia cuenta que, a pesar de que Quarto a nivel global está usando otro interprete, al definir el `_environment` queda con el que usted especifica.\n\n::: {#d384549d .cell execution_count=5}\n``` {.python .cell-code}\nimport sys\nprint(sys.executable)\nprint(sys.prefix)\nprint (sys.version)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nC:\\ProgramData\\miniconda3\\pythonw.exe\nC:\\ProgramData\\miniconda3\n3.12.2 | packaged by Anaconda, Inc. | (main, Feb 27 2024, 17:28:07) [MSC v.1916 64 bit (AMD64)]\n```\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n## :robot: [*IPython*](https://ipython.readthedocs.io/en/stable)\n\n:bookmark: Cualquier comando estándar de shell puede ser utilizado directamente en `IPython` anteponiendo el carácter `!`. Por ejemplo,\n\n::: {#563b3d89 .cell execution_count=6}\n``` {.python .cell-code}\n# : ....................... Shell Commands en IPython ........................ :\n!ls\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nFeatured Image.jpg\nindex.ipynb\nindex.qmd\n```\n:::\n:::\n\n\n::: {#1dfdc414 .cell execution_count=7}\n``` {.python .cell-code}\ndirectory = !pwd\nprint(directory)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n['/d/Documentos/JOBS/DNPE/CursoPython/posts/Getting Started']\n```\n:::\n:::\n\n\n::: {#5414c544 .cell execution_count=8}\n``` {.python .cell-code}\nmessage = \"Imprimiendo un texto desde shell\"\n!echo {message}\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nImprimiendo un texto desde shell\n```\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n## :sparkles: *Conceptos Básicos*\n\n-   :triangular_ruler: **Identación (*no llaves* {} )**: Python utiliza espacios en blanco (*tabuladores o espacios*) para estructurar el código en lugar de utilizar llaves como en muchos otros lenguajes como `R` y `C++`.\n-   :symbols: **No se necesita terminar con `;`**: El punto y coma puede usarse para separar múltiples sentencias en una sola línea. `a = 1; b = 2; c = 3`\n-   :label: Las cadenas admiten tanto comillas simples `'` como comillas dobles `\"`: Se prefieren las comillas dobles, y para cadenas de varias líneas con saltos de línea, puede utilizar comillas triples `\"\"\"`.\n-   :ab: **Vinculación (*binding*)**: En otros lenguajes, la asignación hará que se copien los datos. En Python, hace que se refieran ahora al mismo objeto,\n\n::: {#6bdc1086 .cell execution_count=9}\n``` {.python .cell-code}\na = [1, 2, 3]\nb = a\na.append(4)\nb\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```\n[1, 2, 3, 4]\n```\n:::\n:::\n\n\n::: {#c017381d .cell execution_count=10}\n``` {.python .cell-code}\n# Cuando se pasan objetos como argumentos a una función, se crean nuevas variables\n# locales que hacen referencia a los objetos originales sin necesidad de copiarlos\ndef myAppend(lista, elemento):\n  lista.append(elemento)\ndata = [1, 2, 3]\nmyAppend(data, 4)\ndata\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```\n[1, 2, 3, 4]\n```\n:::\n:::\n\n\n-   :muscle: **Un lenguaje tipado**: Cada objeto tiene un tipo (*o clase*) específico, con la ventaja de que las variables no tienen un tipo inherente asociado a ellas.\n\n::: {#2f464f25 .cell execution_count=11}\n``` {.python .cell-code}\na = 5      ; print(type(a))\na = \"cinco\"; print(type(a))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'int'>\n<class 'str'>\n```\n:::\n:::\n\n\n::: {#5aa8c322 .cell execution_count=12}\n``` {.python .cell-code}\n\"5\" + 5\n```\n:::\n\n\n::: {#33ecbdf6 .cell execution_count=13}\n``` {.python .cell-code}\na = 4.5\nb = 2\nprint(a / b)\nprint(isinstance(a, (int, float)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n2.25\nTrue\n```\n:::\n:::\n\n\n### Help & Time\n\n::: {#d853235e .cell execution_count=14}\n``` {.python .cell-code}\n# Acceso a la Documentación:\nhelp(len)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nHelp on built-in function len in module builtins:\n\nlen(obj, /)\n    Return the number of items in a container.\n\n```\n:::\n:::\n\n\n::: {#668968a0 .cell execution_count=15}\n``` {.python .cell-code}\nletra = \"a\"\n# letra.<Press Tab>\ngetattr(letra, \"split\")\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```\n<function str.split(sep=None, maxsplit=-1)>\n```\n:::\n:::\n\n\n::: {#0161230f .cell execution_count=16}\n``` {.python .cell-code}\n# Guión bajo '_' para salidas anteriores\n1+1\n2+2\nprint(_)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<built-in method split of str object at 0x00007FFF138A1CE0>\n```\n:::\n:::\n\n\n::: {#3ac11979 .cell execution_count=17}\n``` {.python .cell-code}\n# Acceder a las entradas anteriores (historial)\n%history -n 1-3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   1:\nimport sys\nprint(sys.executable)\nprint(sys.prefix)\nprint (sys.version)\n   2:\n# : ....................... Shell Commands en IPython ........................ :\n!ls\n   3:\ndirectory = !pwd\nprint(directory)\n```\n:::\n:::\n\n\n::: {#f58500df .cell execution_count=18}\n``` {.python .cell-code}\n# : .......................... Timing Code Snippets .......................... :\n%timeit sum(range(100))   # IPython Magic Commands\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n360 ns ± 2.92 ns per loop (mean ± std. dev. of 7 runs, 1,000,000 loops each)\n```\n:::\n:::\n\n\n::: {#85642da5 .cell execution_count=19}\n``` {.python .cell-code}\n%%timeit                  # Cuando es más complejo, baja el número de repeticiones\ntotal = 0\nfor i in range(1000):\n  for j in range(1000):\n    total += i * (-1) ** j\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n84.1 ms ± 942 μs per loop (mean ± std. dev. of 7 runs, 10 loops each)\n```\n:::\n:::\n\n\n### Imports\n\n```{{python}}\n# Modulo.py\nPI = 3.14159\ndef cuadrado(x):\n return x ** 2\n```\n\n::: {#2b0d33d1 .cell execution_count=20}\n``` {.python .cell-code}\nimport Modulo\nprint(Modulo.cuadrado(5))\npi = Modulo.PI\n# ......................................\nfrom Modulo import PI, cuadrado\ncuadrado(PI)\n# ......................................\nimport Modulo as m\nfrom Modulo import PI as kte, cuadrado as elevado\n\nr1 = m.cuadrado(kte); print(r1)\nr2 = elevado(6)     ; print(r2)\n```\n:::\n\n\n### Operadores Binarios y de Comparación\n\n![](../../files/images/BinaryOperators.png)\n\n::: {#ebdfe039 .cell execution_count=21}\n``` {.python .cell-code}\na = [1, 2, 3]\nb = a\nc = list(a) # Crea una copia \n\nprint(a is b)\nprint(a is not c)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTrue\nTrue\n```\n:::\n:::\n\n\n::: {#93fa50ef .cell execution_count=22}\n``` {.python .cell-code}\na.append(4)\na == c\n```\n\n::: {.cell-output .cell-output-display execution_count=16}\n```\nFalse\n```\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n## :information_source: *Tipos Estándar*\n\n| Tipo    | Descripción                                                                               |\n|-----------------------|-------------------------------------------------|\n| `None`  | El valor \"nulo\" de Python (*solo existe una instancia del objeto `None`*)                 |\n| `str`   | Tipo de cadena; contiene cadenas Unicode                                                  |\n| `bytes` | Datos binarios en bruto                                                                   |\n| `float` | Número de punto flotante de doble precisión (*nota que no hay un tipo `double` separado*) |\n| `bool`  | Un valor booleano `True` o `False`                                                        |\n| `int`   | Entero de precisión arbitraria                                                            |\n\n### Booleans\n\n::: {#1e641d77 .cell execution_count=23}\n``` {.python .cell-code}\nprint(int(False)); print(int(True))\nprint(True + False)\nbool(2024.75) # Todo valor !=0 se convierte en True\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n0\n1\n1\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=17}\n```\nTrue\n```\n:::\n:::\n\n\n### [Strings](https://docs.python.org/3/library/string.html)\n\nAbc.\n\n::: {#2c582790 .cell execution_count=24}\n``` {.python .cell-code}\na = \"Hola mundo \\\\>\"\nb = \"\"\"\nEsta cadena es más larga que\nabarca varias líneas\n\"\"\"\nc = r\"D:\\Documentos\\Carpeta\"\n\nprint(c)\nb.count(\"\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nD:\\Documentos\\Carpeta\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=18}\n```\n3\n```\n:::\n:::\n\n\n::: {#614d8d72 .cell execution_count=25}\n``` {.python .cell-code}\n# Los strings en Python son inmutables: no se puede modificar una cadena\nprint(a[5])\n# a[5] = \"M\" # TypeError: 'str' object does not support item assignment\na.replace(\"m\", \"M\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nm\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=19}\n```\n'Hola Mundo \\\\>'\n```\n:::\n:::\n\n\n::: {#f98284d0 .cell execution_count=26}\n``` {.python .cell-code}\na       # Tras esta operación, la variable no se modifica\n```\n\n::: {.cell-output .cell-output-display execution_count=20}\n```\n'Hola mundo \\\\>'\n```\n:::\n:::\n\n\n::: {#da78ee60 .cell execution_count=27}\n``` {.python .cell-code}\nlist(a) # Las cadenas son una secuencia de caracteres Unicode\n```\n\n::: {.cell-output .cell-output-display execution_count=21}\n```\n['H', 'o', 'l', 'a', ' ', 'm', 'u', 'n', 'd', 'o', ' ', '\\\\', '>']\n```\n:::\n:::\n\n\n#### **Formatted string**\n\n::: {#638ea652 .cell execution_count=28}\n``` {.python .cell-code}\n# 0:.3f El 1re valor será un flotantes con 3 decimales\n# 1:s   El 2do valor será un string\n# 2:d   El 3re valor será un entero\ntemplate = \"{0:.3f} {1:s} equivalen a US${2:d}\"\ntemplate.format(3.960, \"pesos Colombianos\", 1) # Intente modificar el tipo de alguno de estos\n```\n\n::: {.cell-output .cell-output-display execution_count=22}\n```\n'3.960 pesos Colombianos equivalen a US$1'\n```\n:::\n:::\n\n\n::: {#67e76320 .cell execution_count=29}\n``` {.python .cell-code}\nTasa   = 3.960\nMoneda = \"Colombianos\"\nf\"{Tasa:.4f} pesos {Moneda} equivalen a US${Tasa/Tasa}\"\n```\n\n::: {.cell-output .cell-output-display execution_count=23}\n```\n'3.9600 pesos Colombianos equivalen a US$1.0'\n```\n:::\n:::\n\n\n### Type casting\n\nAbc.\n\n### None\n\nAbc.\n\n### Dates and times\n\nAbc.\n\n::: {#e5b0dc32 .cell execution_count=30}\n``` {.python .cell-code}\nfrom datetime import datetime, date, time\ndt = datetime(2024, 1, 31, 20, 30, 21)\n\ndt.day\ndt.date()\ndt.time()\ndt.strftime(\"%Y-%m-%d %H:%M\")\n```\n\n::: {.cell-output .cell-output-display execution_count=24}\n```\n'2024-01-31 20:30'\n```\n:::\n:::\n\n\n::: {#44ac2613 .cell execution_count=31}\n``` {.python .cell-code}\ndt_hour = dt.replace(minute = 0, second = 0)\ndt_hour\n```\n\n::: {.cell-output .cell-output-display execution_count=25}\n```\ndatetime.datetime(2024, 1, 31, 20, 0)\n```\n:::\n:::\n\n\n::: {#9936f3d5 .cell execution_count=32}\n``` {.python .cell-code}\ndelta = datetime.now() - dt\ndelta\n```\n\n::: {.cell-output .cell-output-display execution_count=26}\n```\ndatetime.timedelta(days=135, seconds=54692, microseconds=744978)\n```\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n## :triangular_flag_on_post: *Objetos Mutables e Inmutables*\n\nAbc.\n\n------------------------------------------------------------------------\n\n## :loop: *Flujo de Control*\n\n### `if`, `elif`, and `else`\n\n::: {#a8251b58 .cell execution_count=33}\n``` {.python .cell-code}\nw = 5; x = 4; y = 3; z = 2\nif x < 0:\n    print(\"x es negativo\")\nelif x == 0:\n    print(\"x es cero\")\nelif w > x > y > z:\n    print(\"Los valores están en orden\")\nelse:\n    print(\"Otro caso diferente\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nLos valores están en orden\n```\n:::\n:::\n\n\n### `for`\n\n::: {#736e54e0 .cell execution_count=34}\n``` {.python .cell-code}\nnumeros = [1, 2, None, 4, None, 5] # sum(numeros)\ntotal = 0\nfor value in numeros:\n    if value is None:\n        continue\n    if value == 4:\n        break\n    total += value\ntotal\n```\n\n::: {.cell-output .cell-output-display execution_count=28}\n```\n3\n```\n:::\n:::\n\n\n::: {#996803c8 .cell execution_count=35}\n``` {.python .cell-code}\n# 'break' sólo termina el for más interno, cualquier for externo continuará\nfor i in range(4):\n    for j in range(4):\n        if j > i:\n            break\n        print((i, j))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(0, 0)\n(1, 0)\n(1, 1)\n(2, 0)\n(2, 1)\n(2, 2)\n(3, 0)\n(3, 1)\n(3, 2)\n(3, 3)\n```\n:::\n:::\n\n\n### `while`\n\n### `pass`\n\nEs la sentencia `no-op` (o `no hacer nada`) de Python. Puede usarse en bloques en los que no se va a realizar ninguna acción. Sólo es necesaria porque Python utiliza espacios en blanco para delimitar los bloques.\n\n::: {#8f5b963b .cell execution_count=36}\n``` {.python .cell-code}\nfor value in numeros:\n    if value is None:\n        pass\n    else:\n        total += value\ntotal\n```\n\n::: {.cell-output .cell-output-display execution_count=30}\n```\n15\n```\n:::\n:::\n\n\n### `range`\n\n::: {#936801db .cell execution_count=37}\n``` {.python .cell-code}\nrange(10)\nrange(1, 10)\nlist(range(0, 20, 2))\nlist(range(5, 0, -1))\n```\n\n::: {.cell-output .cell-output-display execution_count=31}\n```\n[5, 4, 3, 2, 1]\n```\n:::\n:::\n\n\nhttps://jjallaire.github.io/pydata-quarto-dashboards/#/learning-more\n\njupyter notebook\n\nimport numpy as np import matplotlib.pyplot as plt import pandas as pd import seaborn as sns import statsmodels as sm pd.options.display.max_columns = 20 pd.options.display.max_rows = 20 pd.options.display.max_colwidth = 80 np.set_printoptions(precision=4, suppress=True)\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}